# MDTopic - Markdown è½¬å›¾ç‰‡å·¥å…·

ä¸€ä¸ªé«˜æ€§èƒ½çš„ Markdown è½¬å›¾ç‰‡è½¬æ¢å·¥å…·ï¼Œæ”¯æŒ Web ç•Œé¢å’Œå‘½ä»¤è¡Œã€‚

## âœ¨ ç‰¹æ€§

- ğŸš€ **é«˜æ€§èƒ½**: æµè§ˆå™¨å®ä¾‹å¤ç”¨ï¼Œå“åº”é€Ÿåº¦æå‡ 85%
- ğŸ§  **æ™ºèƒ½ä¼˜åŒ–**: è‡ªåŠ¨åˆ†æå†…å®¹å¤æ‚åº¦ï¼Œé€‰æ‹©æœ€ä½³è®¾ç½®
- ğŸ“‹ **é¢„è®¾æ¨¡å¼**: Web/ç§»åŠ¨/æ‰“å°/å­˜æ¡£ å››ç§åœºæ™¯åŒ–ä¼˜åŒ–
- ğŸ“¦ **æ–‡ä»¶ä¼˜åŒ–**: æ”¯æŒ WebP æ ¼å¼ï¼Œç§»åŠ¨æ¨¡å¼å‡å°‘ 59% æ–‡ä»¶å¤§å°
- ğŸ¨ **ä»»åŠ¡åˆ—è¡¨**: å®Œç¾æ”¯æŒ Markdown ä»»åŠ¡åˆ—è¡¨ `[x]` å’Œ `[ ]`
- ğŸŒ **Web ç•Œé¢**: å®æ—¶é¢„è§ˆï¼Œæ‰€è§å³æ‰€å¾—
- ğŸ’» **å‘½ä»¤è¡Œ**: æ‰¹é‡å¤„ç†ï¼Œè„šæœ¬å‹å¥½

- ğŸ³ **Docker**: ä¸€é”®éƒ¨ç½²ï¼Œäº‘æœåŠ¡å™¨å°±ç»ª

## ğŸ“š æ–‡æ¡£å¯¼èˆª

| æ–‡æ¡£ | æè¿° | é€‚ç”¨äººç¾¤ |
|------|------|----------|
| [å®‰è£…æŒ‡å—](docs/INSTALLATION.md) | è¯¦ç»†çš„å®‰è£…æ­¥éª¤å’Œæ•…éšœæ’é™¤ | æ‰€æœ‰ç”¨æˆ· |
| [é¡¹ç›®ç»“æ„](docs/PROJECT_STRUCTURE.md) | å®Œæ•´çš„é¡¹ç›®æ¶æ„å’Œç»„ä»¶è¯´æ˜ | å¼€å‘è€…ã€ç»´æŠ¤è€… |
| [APIå‚è€ƒ](docs/API_REFERENCE.md) | è¯¦ç»†çš„APIæ–‡æ¡£å’Œä½¿ç”¨ç¤ºä¾‹ | é›†æˆå¼€å‘è€… |
| [éƒ¨ç½²æŒ‡å—](docs/DEPLOYMENT.md) | æœ¬åœ°ã€Dockerã€äº‘æœåŠ¡å™¨éƒ¨ç½² | è¿ç»´äººå‘˜ |
| [å¼€å‘æŒ‡å—](docs/DEVELOPMENT.md) | å¼€å‘ç¯å¢ƒã€è°ƒè¯•ã€æ‰©å±•æŒ‡å— | è´¡çŒ®è€…ã€å¼€å‘è€… |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼1: ä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰
```bash
# ä¸€é”®å®‰è£…å¹¶å¯åŠ¨ (åå°è¿è¡Œ)
sh scripts/install-all.sh
```

### æ–¹å¼2: Dockeréƒ¨ç½²
```bash
cd docker
./start.sh
```

### æ–¹å¼3: æ‰‹åŠ¨å®‰è£…
```bash
# å®‰è£…ä¾èµ–
npm install

# æ„å»ºå‰ç«¯
npm run build

# å¯åŠ¨æœåŠ¡
npm start
```

è®¿é—®: http://localhost:3000

## ğŸ”§ æœåŠ¡ç®¡ç†

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
sh scripts/manage-service.sh status

# å¯åŠ¨/åœæ­¢/é‡å¯æœåŠ¡
sh scripts/manage-service.sh start|stop|restart

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
sh scripts/manage-service.sh logs
```

### å‘½ä»¤è¡Œä½¿ç”¨

#### ğŸ§  æ™ºèƒ½ä¼˜åŒ– (æ¨è)
```bash
# è‡ªåŠ¨åˆ†æå†…å®¹å¤æ‚åº¦ï¼Œé€‰æ‹©æœ€ä½³è®¾ç½®
node index.js convert README.md output.webp --smart
```

#### ğŸ“‹ é¢„è®¾æ¨¡å¼ (ä¸€é”®ä¼˜åŒ–)
```bash
# ç§»åŠ¨ç«¯ä¼˜åŒ– - æœ€å°æ–‡ä»¶å¤§å° (å‡å°‘59%)
node index.js convert README.md output.webp --preset mobile

# Webæ˜¾ç¤ºä¼˜åŒ– - å¹³è¡¡è´¨é‡å’Œå¤§å°
node index.js convert README.md output.webp --preset web

# æ‰“å°è´¨é‡ - é«˜åˆ†è¾¨ç‡ä¸“ä¸šå“è´¨
node index.js convert README.md output.webp --preset print

# å­˜æ¡£æ¨¡å¼ - é•¿æœŸå­˜å‚¨ç©ºé—´ä¼˜å…ˆ
node index.js convert README.md output.webp --preset archive
```

#### âš™ï¸ ä¼ ç»Ÿä½¿ç”¨
```bash
# åŸºæœ¬è½¬æ¢
node index.js convert input.md output.webp

# è‡ªå®šä¹‰å‚æ•°
node index.js convert input.md output.webp \
  --format webp --quality 75 --width 800 --scale 2

# æŸ¥çœ‹å¸®åŠ©
node index.js --help
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
mdtopic/
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ web/               # React å‰ç«¯ (å¼€å‘)
â”‚   â”œâ”€â”€ server/            # Express æœåŠ¡å™¨
â”‚   â””â”€â”€ config/            # é…ç½®æ–‡ä»¶
â”œâ”€â”€ scripts/               # éƒ¨ç½²å’Œç®¡ç†è„šæœ¬
â”‚   â”œâ”€â”€ install-all.sh    # ä¸€é”®å®‰è£…è„šæœ¬
â”‚   â””â”€â”€ manage-service.sh  # æœåŠ¡ç®¡ç†è„šæœ¬
â”œâ”€â”€ dist/                  # æ„å»ºè¾“å‡º (ç”Ÿäº§)
â”œâ”€â”€ lib/                   # æ ¸å¿ƒè½¬æ¢åº“
â”œâ”€â”€ docker/                # Docker é…ç½®
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â””â”€â”€ start.sh          # Docker å¯åŠ¨è„šæœ¬
â”œâ”€â”€ docs/                  # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ API_REFERENCE.md
â”‚   â”œâ”€â”€ DEPLOYMENT.md
â”‚   â”œâ”€â”€ DEVELOPMENT.md
â”‚   â””â”€â”€ PROJECT_STRUCTURE.md
â””â”€â”€ test/                  # æµ‹è¯•æ–‡ä»¶
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### é€Ÿåº¦ä¼˜åŒ–
- âœ… æµè§ˆå™¨å®ä¾‹å¤ç”¨: **85%** é€Ÿåº¦æå‡
- âœ… å¯åŠ¨å‚æ•°ä¼˜åŒ–: å‡å°‘èµ„æºå ç”¨
- âœ… è¶…æ—¶æ—¶é—´è°ƒä¼˜: å¿«é€Ÿå“åº”

### æ–‡ä»¶å¤§å°ä¼˜åŒ–
- âœ… WebP æ ¼å¼: **64%** æ–‡ä»¶å‡å°‘
- âœ… è´¨é‡å‚æ•°è°ƒä¼˜: ç”»è´¨ä¸å¤§å°å¹³è¡¡
- âœ… å¤šæ ¼å¼æ”¯æŒ: PNG, JPEG, WebP

### æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|------|--------|--------|------|
| é¦–æ¬¡è½¬æ¢ | ~8ç§’ | ~3ç§’ | 62% |
| åç»­è½¬æ¢ | ~3ç§’ | ~0.5ç§’ | 85% |
| æ–‡ä»¶å¤§å° | 29KB (PNG) | 10KB (WebP) | 64% |

## ğŸ¯ API ä½¿ç”¨

### è½¬æ¢æ¥å£

```bash
POST /api/convert
Content-Type: application/json

{
  "markdown": "# æ ‡é¢˜\n\n- [x] å®Œæˆçš„ä»»åŠ¡\n- [ ] å¾…åŠäº‹é¡¹",
  "options": {
    "format": "webp",    // png, jpeg, webp
    "quality": 85,       // 1-100
    "width": 800         // åƒç´ å®½åº¦
  }
}
```

### è·å–é…ç½®

```bash
GET /api/options

{
  "formats": ["png", "jpeg", "webp"],
  "theme": "default",
  "widthRange": { "min": 200, "max": 3000, "default": 800 },
  "qualityRange": { "min": 1, "max": 100, "default": 85 }
}
```

### å¥åº·æ£€æŸ¥

```bash
GET /api/health

{
  "status": "ok",
  "service": "mdtopic-web-server", 
  "version": "2.0.0",
  "timestamp": "2025-08-22T06:59:43.970Z"
}
```

## ğŸ’¡ æ ¼å¼å»ºè®®

### WebP (æ¨è)
- **ä¼˜ç‚¹**: æ–‡ä»¶æœ€å°ï¼Œç”»è´¨ä¼˜ç§€
- **é€‚ç”¨**: ç°ä»£æµè§ˆå™¨ï¼ŒWeb å±•ç¤º
- **é…ç½®**: `format: "webp", quality: 85`

### PNG
- **ä¼˜ç‚¹**: æ— æŸå‹ç¼©ï¼Œå…¼å®¹æ€§æœ€ä½³
- **é€‚ç”¨**: éœ€è¦é€æ˜èƒŒæ™¯ï¼Œæ‰“å°ç”¨é€”
- **é…ç½®**: `format: "png"`

### JPEG
- **ä¼˜ç‚¹**: é€‚åˆç…§ç‰‡å†…å®¹
- **é€‚ç”¨**: åŒ…å«å›¾ç‰‡çš„ Markdown
- **é…ç½®**: `format: "jpeg", quality: 90`

## ğŸ”§ ç¯å¢ƒå˜é‡

```bash
PORT=3000                 # æœåŠ¡ç«¯å£
PUPPETEER_EXECUTABLE_PATH # è‡ªå®šä¹‰ Chrome è·¯å¾„
```


## ğŸš¨ ç³»ç»Ÿè¦æ±‚

- **Node.js**: 18+ 
- **å†…å­˜**: å»ºè®® 2GB+
- **CPU**: æ”¯æŒå¤šæ ¸å¹¶å‘
- **ç£ç›˜**: ä¸´æ—¶æ–‡ä»¶å­˜å‚¨

### Docker è¦æ±‚
- **Docker**: 20.10+
- **Docker Compose**: 2.0+
- **å†…å­˜**: å®¹å™¨é™åˆ¶ 2GB

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
npm run dev

# å¯åŠ¨åç«¯æœåŠ¡å™¨ (å¦ä¸€ä¸ªç»ˆç«¯)
npm start
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºå‰ç«¯
npm run build

# æµ‹è¯•ç”Ÿäº§ç‰ˆæœ¬
npm start
```

### è¿è¡Œæµ‹è¯•

```bash
# æ ¸å¿ƒåº“æµ‹è¯•
npm test

# Web API æµ‹è¯•
npm run test:web
```

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ€§èƒ½ä¼˜åŒ–è¯´æ˜](documentation/PERFORMANCE_OPTIMIZATION.md)
- [é¡¹ç›®ç»“æ„è¯´æ˜](documentation/PROJECT_STRUCTURE.md)


---

â­ **å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼**
